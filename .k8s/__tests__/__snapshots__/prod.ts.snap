// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`kosko generate --prod 1`] = `
"---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  labels:
    app: app
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
  name: app
  namespace: archifiltre-statistics
spec:
  replicas: 1
  selector:
    matchLabels:
      app: app
  template:
    metadata:
      annotations:
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.gitlab.com/app: socialgouv-archifiltre-statistics
        app.gitlab.com/env: beta-db-12-dev2
        app.gitlab.com/env.name: beta-db-12-dev2
      labels:
        app: app
        application: archifiltre-statistics
        owner: archifiltre-statistics
        team: archifiltre-statistics
        cert: wildcard
    spec:
      containers:
        - image: >-
            registry.gitlab.factory.social.gouv.fr/socialgouv/archifiltre-statistics/app:yz42
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 30
            periodSeconds: 5
            timeoutSeconds: 5
          name: app
          ports:
            - containerPort: 3000
              name: http
          readinessProbe:
            failureThreshold: 15
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 0
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 500m
              memory: 1280Mi
            requests:
              cpu: 100m
              memory: 128Mi
          startupProbe:
            failureThreshold: 12
            httpGet:
              path: /healthz
              port: http
            periodSeconds: 5
          envFrom:
            - secretRef:
                name: app-env
            - configMapRef:
                name: app-env
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  name: app-env
  namespace: archifiltre-statistics
  labels:
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
spec:
  encryptedData:
    MATOMO_TOKEN: >-
      AgBqPAK/eoKFQNIc8MEmHPF9QytiYMhEU++UWdHeayV6y6y2h0MSbOwiamYDEgal/MAUtz5EZGeMeoj0919hLFG/w91Cz4xugLrKX0n7Okrn1oYZva1oOy6UtkKa6I7bhO+v637NwPYeJhK4ILEIDcGi6Wab0K/v75pLwNenKaOLTSvF1TnqEX8D2DBlwhqt03xOZBqD0zVh3exGwQa5SQnvksBlr3VW0UPLMyq2yW2aITbXVTCES7LzOsTX34I2wVQ8rH1vHFioLOsMTTqCLx5eGw4bS5PORhcnYaTLt7LHPk3zrErQj7g4RF6KvOjBwNc6uojOC2DjYyt3NE21sHY0b6s0E0fjlo8/DUtnjj2h4pfhOJm3vugMIz0visGdouw34ffjkvephAWyKmRMfANwUqCCeHwczxtE5ljoyFWNys0Y8aGeDH1avUaS6Vb8d8ILwNCFGVczTKd00xT2YmpXcmSXOCiYeit/XqD6CWo1I9LGwkU1F3xhVa78PH9+EV/Bep2syVnkiPDdqC8gqaJ3vfcNU/CAnfWeh6AE+miP+t/jl5lpREJ6V/efo1bxTKOnNrRlxlOOIbu2Ay4zsJga0zM3CMFKahP9ZkiQL7xdCZaFa/N4nyYbmOfiFqJvkFTymXnxE5hzglz2AcDZ+L4cgq3k2z/QVDAz0eUAM4npjHwelNHSxFxS99DuII4ENpDka6ybxIfGT2opA6z90cnV2fC12+Oraij3IxmLgTpoyA==
    YOUTUBE_API_KEY: >-
      AgCUOllWvS7qYtWrvO4mgfxjdNRf52um345674EXp80gQsTBD+KivYsI5B4nD9uRi8+B7RACBN2YlMLFNPnLZUDEQvc5eCwSap/YZJKtRlJ7HHP5Ls6O8UWHTwZtG7hZV+Xl+JftWbnyf+p26ZLwuPWUYgjK3eKneLUBf2O0zk+UeIUMIZUrCq80mikdDs4vHDNUNK9zZfnnpUbpLvoTWn2vQV0om+EdYwDJ2DQuJggECzfnRzxeKDF9/4YpzMJh1uR9FtGHm5G6MMpPA5lpfoTKF//bqu668YpNq4EPfPmcJq1bdWMYOVYyhwnCgQeOGzz8Xh0QuTNwrksvCp0xZ79LJTdXfl2q81oGEx8etelzwiwqroDWFezaaqQIni2jO33sRfty5qzCq/aWZK4XY+OORL58QgVCBl80ut6/dOgWP1o6DZSoQvxTTRsMeXbb5fUUYSl8mXA6igx8GzxNxGRif5EedZ1h6ala5vf2giOmVgUEue53PAB0n/JgfMoO4ym1yBJiiuiaLBjghtwirZuxzcvn/BrIBDjD+8lenS77XrU1h8ArApOIphV87SMZQdiJYbu82Xhjn6V1RSFYx9/hskMJWC4IgrD2QZ/1S2hqyZmsK3CuSaEhf4PCVJJiG6i14X3baXRjkXTxbTA/7yN5KacYz4v10RZEChAOKJe5dV4qrwBh7n+twIKNLi+/HnAaZzsBMikxbZn5kQSi5/qfnKrvtunE/CTVLaSe0MbRq70/uztRBcs=
    GITHUB_API_KEY: >-
      AgCo8bTuiJs4Jwq7rJZbQdFxd2RVKjrSTqa248Y9wI+ztP+lXnU7xvxCzM84i2BewD3+NpboWMirS18YXD01RYGkdDoogYxbkimcGucMdKDzY06uHPBvEIui2Ye2u5bGKp27RkObX0pVCEBroHZ2YQRf1qJXJXUh+UXimFVtdQeGBBAq0PrmP/L3TT2j4ZHdWFxgYfx5Bm2HiWKfVOmZFvMmMwWGqy9vkER5dldHWDpR79mS8T9CdT7SM7XtjqA7u31loQn/N7ZCQMBooFYRoyiNSeoL1p/Y2Zswg3xTUMvFJ7qQBKgmrh07N/W7ZiZw7BcuvSxYroYpNmiLL1hc/KiiptFcJAAMr6BsDNf6F61oRrhA0eGOF49jQPrm4aQqrRAr4u/PwUjpwDyiBNNL1PsCM5sFOClGdzAMLkwKPWjeayf4apsylH2RhusnIxv3d6+88rbmvBS21kiOAUgRbLnp0BZ6ZBVdXXmGFDUj4Nhnec8vQJi4r8dFk+8SOYTZBebdLNu3i024Qp/6HjU4+lrrS8x2BJsYMk7MstcA3puhE57+KrFsSfOuBfZWslpuSBdLDz10iQs9u7qGHVAN6KGzK73NkGUJkKtw501VRhILOgbgsUibZFdX2CqP5aKj+KqyqXuKIJvnwRR6MpXAuX28TnrsCPv1S2Ftid4t8juCVKZDEXeVjNnzfhzZhz2ZCF7aTdg0ohhl7pucOHOjTn9nuaECXlz20yeMGVLyfkfvUut5i90yt/jZ
  template:
    metadata:
      annotations:
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.gitlab.com/app: socialgouv-archifiltre-statistics
        app.gitlab.com/env: beta-db-12-dev2
        app.gitlab.com/env.name: beta-db-12-dev2
      name: app-env
      labels:
        application: archifiltre-statistics
        owner: archifiltre-statistics
        team: archifiltre-statistics
        cert: wildcard
    type: Opaque
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-env
  namespace: archifiltre-statistics
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  labels:
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
data:
  MATOMO_URL: https://matomo.fabrique.social.gouv.fr/
  YOUTUBE_API_URL: https://youtube.googleapis.com/youtube/v3/
  YOUTUBE_CHANNEL_ID: UClDwrT-Y1NY9WnEiXLMHp6w
  GITHUB_API_URL: https://api.github.com
  CORS_ORIGINS: '*'
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: app
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
  name: app
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  namespace: archifiltre-statistics
spec:
  ports:
    - name: http
      port: 80
      targetPort: 3000
  selector:
    app: app
  type: ClusterIP
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    kubernetes.io/ingress.class: nginx
    certmanager.k8s.io/cluster-issuer: letsencrypt-prod
    kubernetes.io/tls-acme: 'true'
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  labels:
    app: app
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
  name: app
  namespace: archifiltre-statistics
spec:
  rules:
    - host: archifiltre-statistics.dev2.fabrique.social.gouv.fr
      http:
        paths:
          - backend:
              serviceName: app
              servicePort: 80
            path: /
  tls:
    - hosts:
        - archifiltre-statistics.dev2.fabrique.social.gouv.fr
      secretName: app-crt
"
`;
