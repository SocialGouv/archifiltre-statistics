// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`kosko generate --prod 1`] = `
"---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  labels:
    app: app
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
  name: app
  namespace: archifiltre-statistics
spec:
  replicas: 1
  selector:
    matchLabels:
      app: app
  template:
    metadata:
      annotations:
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.gitlab.com/app: socialgouv-archifiltre-statistics
        app.gitlab.com/env: beta-db-12-dev2
        app.gitlab.com/env.name: beta-db-12-dev2
      labels:
        app: app
        application: archifiltre-statistics
        owner: archifiltre-statistics
        team: archifiltre-statistics
        cert: wildcard
    spec:
      containers:
        - image: >-
            registry.gitlab.factory.social.gouv.fr/socialgouv/archifiltre-statistics/app:yz42
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 30
            periodSeconds: 5
            timeoutSeconds: 5
          name: app
          ports:
            - containerPort: 3000
              name: http
          readinessProbe:
            failureThreshold: 15
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 0
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 500m
              memory: 1280Mi
            requests:
              cpu: 100m
              memory: 128Mi
          startupProbe:
            failureThreshold: 12
            httpGet:
              path: /healthz
              port: http
            periodSeconds: 5
          envFrom:
            - secretRef:
                name: app-env
            - configMapRef:
                name: app-env
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  name: app-env
  namespace: archifiltre-statistics
  labels:
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
spec:
  encryptedData:
    MATOMO_TOKEN: >-
      AgC80iESity5IDHgVjHUr2DBDRV+5a7MSoosU3Cha8I5Jszel7krkBg3F/3u0WLSoV8A38w6+MmI9S1RFDRj5wY/55ld/i+BLj2ItJAwsGu67Ibbh7O7tegLIjtev/PTDBuIrxcwSPlLZcd8q5f2BFQr6tq37oQbP9jV2ZNH3hZzVsnmTMxLZ/B5PYoq47Of8PS6IG6BxUhPJqYM470A3YPYAGFfCuBDFtDekCWcp7n46m6EPt3fkqgp6kvMcAGcx1xs8HEc/E0x840nJZn8L6XT0uLxfNx1kkc9S+dyCjOQlRwVwTy8wrL9s2tu17kgG2dG1E1W50iceTCpSxpJbP4ybJdJYKMCWvIjgddJuGNJRw4WB20H2yckqnVst7uRVIYqc7dJW9e8pWj//LvRSDu+q8/u2IJv24XDDBJav7RHlhRqVfgd90ItgXa7qEQJlQhGxVds6Eyo9YyeDuUNS8lihc1GMkmhnf9LteqS+6IyenaJ4mAYYhnDhZe9ZPJy71LYpps8vaVvdhOKIm2ustTwlzVDIWbAc3bnJs3cQxOQNApj9mkjuVqwQnuDpZqT/cD6pDeiFJbcRVXUHMJO0kCowV/7dCgAg4LZRDhr9ta2ZmNMaRK+Mg3OpOpkq5KDyNYKMKaS+ouFuy1VmhiDOAEDshJIcsl/nvsz0y5arMmP4Jv1BIsg6tG05WQdlzzt03voNDZWPKnXUTs22PuJP4YaCnqoUoMd4vTEtV7Yzmarwg==
    YOUTUBE_API_KEY: >-
      AgCUOllWvS7qYtWrvO4mgfxjdNRf52um345674EXp80gQsTBD+KivYsI5B4nD9uRi8+B7RACBN2YlMLFNPnLZUDEQvc5eCwSap/YZJKtRlJ7HHP5Ls6O8UWHTwZtG7hZV+Xl+JftWbnyf+p26ZLwuPWUYgjK3eKneLUBf2O0zk+UeIUMIZUrCq80mikdDs4vHDNUNK9zZfnnpUbpLvoTWn2vQV0om+EdYwDJ2DQuJggECzfnRzxeKDF9/4YpzMJh1uR9FtGHm5G6MMpPA5lpfoTKF//bqu668YpNq4EPfPmcJq1bdWMYOVYyhwnCgQeOGzz8Xh0QuTNwrksvCp0xZ79LJTdXfl2q81oGEx8etelzwiwqroDWFezaaqQIni2jO33sRfty5qzCq/aWZK4XY+OORL58QgVCBl80ut6/dOgWP1o6DZSoQvxTTRsMeXbb5fUUYSl8mXA6igx8GzxNxGRif5EedZ1h6ala5vf2giOmVgUEue53PAB0n/JgfMoO4ym1yBJiiuiaLBjghtwirZuxzcvn/BrIBDjD+8lenS77XrU1h8ArApOIphV87SMZQdiJYbu82Xhjn6V1RSFYx9/hskMJWC4IgrD2QZ/1S2hqyZmsK3CuSaEhf4PCVJJiG6i14X3baXRjkXTxbTA/7yN5KacYz4v10RZEChAOKJe5dV4qrwBh7n+twIKNLi+/HnAaZzsBMikxbZn5kQSi5/qfnKrvtunE/CTVLaSe0MbRq70/uztRBcs=
    GITHUB_API_KEY: >-
      AgCo8bTuiJs4Jwq7rJZbQdFxd2RVKjrSTqa248Y9wI+ztP+lXnU7xvxCzM84i2BewD3+NpboWMirS18YXD01RYGkdDoogYxbkimcGucMdKDzY06uHPBvEIui2Ye2u5bGKp27RkObX0pVCEBroHZ2YQRf1qJXJXUh+UXimFVtdQeGBBAq0PrmP/L3TT2j4ZHdWFxgYfx5Bm2HiWKfVOmZFvMmMwWGqy9vkER5dldHWDpR79mS8T9CdT7SM7XtjqA7u31loQn/N7ZCQMBooFYRoyiNSeoL1p/Y2Zswg3xTUMvFJ7qQBKgmrh07N/W7ZiZw7BcuvSxYroYpNmiLL1hc/KiiptFcJAAMr6BsDNf6F61oRrhA0eGOF49jQPrm4aQqrRAr4u/PwUjpwDyiBNNL1PsCM5sFOClGdzAMLkwKPWjeayf4apsylH2RhusnIxv3d6+88rbmvBS21kiOAUgRbLnp0BZ6ZBVdXXmGFDUj4Nhnec8vQJi4r8dFk+8SOYTZBebdLNu3i024Qp/6HjU4+lrrS8x2BJsYMk7MstcA3puhE57+KrFsSfOuBfZWslpuSBdLDz10iQs9u7qGHVAN6KGzK73NkGUJkKtw501VRhILOgbgsUibZFdX2CqP5aKj+KqyqXuKIJvnwRR6MpXAuX28TnrsCPv1S2Ftid4t8juCVKZDEXeVjNnzfhzZhz2ZCF7aTdg0ohhl7pucOHOjTn9nuaECXlz20yeMGVLyfkfvUut5i90yt/jZ
  template:
    metadata:
      annotations:
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.gitlab.com/app: socialgouv-archifiltre-statistics
        app.gitlab.com/env: beta-db-12-dev2
        app.gitlab.com/env.name: beta-db-12-dev2
      name: app-env
      labels:
        application: archifiltre-statistics
        owner: archifiltre-statistics
        team: archifiltre-statistics
        cert: wildcard
    type: Opaque
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-env
  namespace: archifiltre-statistics
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  labels:
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
data:
  MATOMO_URL: https://matomo.fabrique.social.gouv.fr/
  YOUTUBE_API_URL: https://youtube.googleapis.com/youtube/v3/
  YOUTUBE_CHANNEL_ID: UClDwrT-Y1NY9WnEiXLMHp6w
  GITHUB_API_URL: https://api.github.com
  CORS_ORIGINS: '*'
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: app
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
  name: app
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  namespace: archifiltre-statistics
spec:
  ports:
    - name: http
      port: 80
      targetPort: 3000
  selector:
    app: app
  type: ClusterIP
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    kubernetes.io/ingress.class: nginx
    certmanager.k8s.io/cluster-issuer: letsencrypt-prod
    kubernetes.io/tls-acme: 'true'
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.gitlab.com/app: socialgouv-archifiltre-statistics
    app.gitlab.com/env: beta-db-12-dev2
    app.gitlab.com/env.name: beta-db-12-dev2
  labels:
    app: app
    application: archifiltre-statistics
    owner: archifiltre-statistics
    team: archifiltre-statistics
    cert: wildcard
  name: app
  namespace: archifiltre-statistics
spec:
  rules:
    - host: archifiltre-statistics.dev2.fabrique.social.gouv.fr
      http:
        paths:
          - backend:
              serviceName: app
              servicePort: 80
            path: /
  tls:
    - hosts:
        - archifiltre-statistics.dev2.fabrique.social.gouv.fr
      secretName: app-crt
"
`;
